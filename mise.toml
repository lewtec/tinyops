[tools]
"github:lucasew/ci-status" = "0.2.1"
uv = "0.9.21"
"vfox:clang" = "18.1.8"

[tasks."install:uv"]
run = "uv sync"

[tasks.install]
depends = ["install:*"]

[tasks."lint:ruff"]
run = "uv run ruff check ."

[tasks.lint]
depends = ["lint:*"]

[tasks."fmt:ruff"]
run = "uv run ruff format ."

[tasks.fmt]
depends = ["fmt:*"]

[tasks.codegen]
run = "echo 'No codegen tasks defined'"

[tasks.test]
run = "ci-status run test -- uv run pytest"

[tasks.ci]
depends = ["lint", "test"]
